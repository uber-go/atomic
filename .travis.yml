sudo: false
language: go
go_import_path: go.uber.org/atomic

go:
  - 1.5
  - 1.6
  - 1.7
  - 1.8
  - tip

matrix:
  allow_failures:
    - go: tip
    - go: 1.5
    - go: 1.6

cache:
  directories:
    - vendor

install:
  - make install_ci

script:
  - make test_ci
  - scripts/test-ubergo.sh
  - make lint
  - travis_retry goveralls -coverprofile=cover.out -service=travis-ci
